<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_11) on Wed Jan 23 19:41:38 CET 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Overview (json-schema-validator 1.4.8 API)</title>
<meta name="date" content="2013-01-23">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Overview (json-schema-validator 1.4.8 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">json-schema-validator 1.4.8 API</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">A JSON Schema validator implementation in Java which aims for correctness and
performance, in that order</div>
</div>
<p>See: <a href="#overview_description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/examples/package-summary.html">org.eel.kitchen.jsonschema.examples</a></td>
<td class="colLast">
<div class="block">API usage examples</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/format/package-summary.html">org.eel.kitchen.jsonschema.format</a></td>
<td class="colLast">
<div class="block">Format attribute base classes</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/format/common/package-summary.html">org.eel.kitchen.jsonschema.format.common</a></td>
<td class="colLast">
<div class="block">Common format attribute classes for draft v3 and draft v4</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/format/draftv3/package-summary.html">org.eel.kitchen.jsonschema.format.draftv3</a></td>
<td class="colLast">
<div class="block">Format attributes specific to draft v3</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/keyword/package-summary.html">org.eel.kitchen.jsonschema.keyword</a></td>
<td class="colLast">
<div class="block">Schema validation core elements: keyword validators</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/keyword/common/package-summary.html">org.eel.kitchen.jsonschema.keyword.common</a></td>
<td class="colLast">
<div class="block">Common keyword classes for draft v3 and draft v4</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/keyword/draftv3/package-summary.html">org.eel.kitchen.jsonschema.keyword.draftv3</a></td>
<td class="colLast">
<div class="block">Keywords specific to draft v3</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/keyword/draftv4/package-summary.html">org.eel.kitchen.jsonschema.keyword.draftv4</a></td>
<td class="colLast">
<div class="block">Keywords specific to draft v4</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/main/package-summary.html">org.eel.kitchen.jsonschema.main</a></td>
<td class="colLast">
<div class="block">Main schema validation API</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/metaschema/package-summary.html">org.eel.kitchen.jsonschema.metaschema</a></td>
<td class="colLast">
<div class="block">"Metaschema" data</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/ref/package-summary.html">org.eel.kitchen.jsonschema.ref</a></td>
<td class="colLast">
<div class="block">JSON Reference related classes</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/report/package-summary.html">org.eel.kitchen.jsonschema.report</a></td>
<td class="colLast">
<div class="block">Validation reports and messages</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/schema/package-summary.html">org.eel.kitchen.jsonschema.schema</a></td>
<td class="colLast">
<div class="block">Internal JSON Schema objects</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/syntax/package-summary.html">org.eel.kitchen.jsonschema.syntax</a></td>
<td class="colLast">
<div class="block">Schema syntax validation package</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/syntax/common/package-summary.html">org.eel.kitchen.jsonschema.syntax.common</a></td>
<td class="colLast">
<div class="block">Common syntax validators for draft v3 and draft v4</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/syntax/draftv3/package-summary.html">org.eel.kitchen.jsonschema.syntax.draftv3</a></td>
<td class="colLast">
<div class="block">Syntax validators specific to draft v3</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/syntax/draftv4/package-summary.html">org.eel.kitchen.jsonschema.syntax.draftv4</a></td>
<td class="colLast">
<div class="block">Syntax validators specific to draft v4</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/syntax/hyperschema/package-summary.html">org.eel.kitchen.jsonschema.syntax.hyperschema</a></td>
<td class="colLast">
<div class="block">Hyper-schema syntax validators</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/syntax/hyperschema/draftv3/package-summary.html">org.eel.kitchen.jsonschema.syntax.hyperschema.draftv3</a></td>
<td class="colLast">
<div class="block">Draft v3 specific hyper-schema syntax validators</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/uri/package-summary.html">org.eel.kitchen.jsonschema.uri</a></td>
<td class="colLast">
<div class="block">Classes to handle downloading of JSON documents using any URI scheme</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/util/package-summary.html">org.eel.kitchen.jsonschema.util</a></td>
<td class="colLast">
<div class="block">Various utility classes</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/util/jackson/package-summary.html">org.eel.kitchen.jsonschema.util.jackson</a></td>
<td class="colLast">
<div class="block">Utility classes for Jackson</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/eel/kitchen/jsonschema/validator/package-summary.html">org.eel.kitchen.jsonschema.validator</a></td>
<td class="colLast">
<div class="block">Core validation process</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="footer"><a name="overview_description">
<!--   -->
</a>
<div class="subTitle">
<div class="block">A JSON Schema validator implementation in Java which aims for correctness and
performance, in that order

<h1>What this is</h1>

<h2>Motivation</h2>

<p>This implementation is meant to be purely server-side if Java is your
language of choice. You may, <b>or may not</b>, use it in your Java Web
application; this library has no dependencies on anything Web-related.</p>

<h2>Strong points</h2>

<p>This library has complete draft v3 validation support. This includes all
"exotic" features of the draft, such as:</p>

<ul>
    <li>multiple schemas in <code>extends</code>;</li>
    <li>schemas in <code>type</code> and <code>disallow</code>;</li>
    <li>schemas in <code>dependencies</code>.</li>
</ul>

<p>It now also has support for draft v4, and schema version detection via
<tt>$schema</tt>.</p>

<p>It also has two particular features making it stand apart:</p>

<ul>
    <li>regular expressions obey ECMA 262 (ie, those are JavaScript regular
    expressions);</li>
    <li><b>it can validate numeric JSON data or abitrary scale/precision</b>.
    </li>
</ul>

<h1>Sample usage</h1>

<p>See the <a href="org/eel/kitchen/jsonschema/examples/package-summary.html"><code>org.eel.kitchen.jsonschema.examples</code></a> package: it contains
example usages for nearly all situations. This includes:</p>

<ul>
    <li>schema version detection;</li>
    <li>use of inline addressing via <tt>id</tt>;</li>
    <li>examples of URI namespaces and redirections;</li>
    <li>schema customization (by adding new format attributes of keyword).</li>
</ul>

<h1>The validation process</h1>

<p>The validation process is a three step process:</p>

<ul>
    <li><tt>$ref</tt> resolution;</li>
    <li>schema syntax validation;</li>
    <li>instance validation (ie, validate your data).</li>
</ul>

<p>The core package for the validation process is <a href="org/eel/kitchen/jsonschema/validator/package-summary.html"><code>org.eel.kitchen.jsonschema.validator</code></a>, and in particular <a href="org/eel/kitchen/jsonschema/validator/JsonValidatorCache.html" title="class in org.eel.kitchen.jsonschema.validator"><code>JsonValidatorCache</code></a>. This class is
instantiated by a schema factory and uses a <a href="http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/cache/LoadingCache.html?is-external=true" title="class or interface in com.google.common.cache"><code>LoadingCache</code></a> to store already computed validators.
There is one such cache per schema version.</p>

<h2><tt>$ref</tt> resolution</h2>

<p>This is a critically important part of the validation process. You may
encounter, during validation, what is called a <a
href="http://tools.ietf.org/html/draft-pbryan-zyp-json-ref-04">JSON
Reference</a>. A JSON Reference is a JSON Object with one member named
<tt>$ref</tt>, and the value of this member is a text value which embodies a
URI. Implementations are required to follow JSON References until an actual
final content is reached (and this content may, or may not, be a valid JSON
Schema).</p>

<p>Now, more food for thought. Consider this schema:</p>

<pre>
    {
        "$ref": "some://where/else",
        "minimum": 3
    }
</pre>

<p>This is <b>still</b> a JSON Reference. Other schema keywords, such as
<tt>minimum</tt> in this example, should be <b>ignored</b>. And this is what
this implementation does.</p>

<p>Note that any failure in $ref validation is considered a fatal error.</p>

<h2>Schema syntax checking</h2>

<p>This is an equally important part of the validation process. One thing to
note about the previous step is that it will only check that JSON Reference
resolution ultimately leads to a JSON document, whatever that document is. Which
means it may not even be a JSON Object, therefore not a JSON Schema. This basic
check is done at that level.</p>

<p>The syntax validation process implies a <a href="org/eel/kitchen/jsonschema/syntax/SyntaxValidator.html" title="class in org.eel.kitchen.jsonschema.syntax"><code>SyntaxValidator</code></a> instance, which checks that
all keywords are syntactically correct using a series of <a href="org/eel/kitchen/jsonschema/syntax/SyntaxChecker.html" title="interface in org.eel.kitchen.jsonschema.syntax"><code>SyntaxChecker</code></a> objects.</p>

<p>The role of <a href="org/eel/kitchen/jsonschema/syntax/SyntaxChecker.html" title="interface in org.eel.kitchen.jsonschema.syntax"><code>SyntaxChecker</code></a> objects
in particular is very important: for a given keyword, a syntax checker ensures
that the value of this keyword is well formed. This is what allows the next step
in the process to be easier to implement.</p>

<h2>Instance (aka data) validation</h2>

<p>This is the part which actually matters to end users: ensure that their data
is valid.</p>

<p>The process begins with an instance of <code>InstanceValidator</code>. It will query, via the
factory, a set of <a href="org/eel/kitchen/jsonschema/keyword/KeywordValidator.html" title="class in org.eel.kitchen.jsonschema.keyword"><code>KeywordValidator</code></a>
instances. All of these keyword validators will then be called in turn to
validate the data.</p>

<h2>Object/array instance validation</h2>

<p>There is one more step to validation. The step above will only have validated
that the current "path" in the JSON instance will have been validated. However,
in the event where the instance is a so-called <i>container instance</i>, that
is it has children nodes, which is the case of objects and arrays, then a
further validation step is issued so that all children get validated.</p>

<p>The two classes responsible for this, <code>ArrayValidator</code> and <code>ObjectValidator</code>, take responsibility
from this point and will restart the validation process from scratch for each of
the instance children.</p>

<p>It should be noted that while array instance children only have to match
exactly one schema, object instance children may have to match several of them,
which does nothing to simplify matters...</p>

<h2>A particular note about <tt>type</tt>, <tt>disallow</tt>,
<tt>dependencies</tt> and <tt>extends</tt></h2>

<p>Those four schema keywords have the unfortunate property that they can
<i>also</i> restart the validation process from their own:</p>

<ul>
    <li><tt>type</tt> and <tt>disallow</tt> can bear schemas in their array
    representations; validation should consider those schemas;</li>
    <li>similarly, <tt>dependencies</tt> can link one property in an object
    instance to another schema, then the whole instance must also validate
    against that schema -- and you may have several occurrences of that;</li>
    <li><tt>extends</tt>, in a similar vein, unconditionally constrains the
    instance to obey the schema(s) it mentions.</li>
</ul>

<p>Those four schema keywords are an implementor's worst nightmare. Remember
that the validation process starts from <tt>$ref</tt> resolution: each of these
keywords, should they have schema dependencies of some sort, have to start the
whole validation process <i>from scratch</i>.</p></div>
</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013. All Rights Reserved.</small></p>
</body>
</html>
